{"ast":null,"code":"'use strict';\n\nfunction undefsafe(obj, path, value, __res) {\n  // I'm not super keen on this private function, but it's because\n  // it'll also be use in the browser and I wont *one* function exposed\n  function split(path) {\n    var res = [];\n    var level = 0;\n    var key = '';\n\n    for (var i = 0; i < path.length; i++) {\n      var c = path.substr(i, 1);\n\n      if (level === 0 && (c === '.' || c === '[')) {\n        if (c === '[') {\n          level++;\n          i++;\n          c = path.substr(i, 1);\n        }\n\n        if (key) {\n          // the first value could be a string\n          res.push(key);\n        }\n\n        key = '';\n        continue;\n      }\n\n      if (c === ']') {\n        level--;\n        key = key.slice(0, -1);\n        continue;\n      }\n\n      key += c;\n    }\n\n    res.push(key);\n    return res;\n  } // bail if there's nothing\n\n\n  if (obj === undefined || obj === null) {\n    return undefined;\n  }\n\n  var parts = split(path);\n  var key = null;\n  var type = typeof obj;\n  var root = obj;\n  var parent = obj;\n  var star = parts.filter(function (_) {\n    return _ === '*';\n  }).length > 0; // we're dealing with a primitive\n\n  if (type !== 'object' && type !== 'function') {\n    return obj;\n  } else if (path.trim() === '') {\n    return obj;\n  }\n\n  key = parts[0];\n  var i = 0;\n\n  for (; i < parts.length; i++) {\n    key = parts[i];\n    parent = obj;\n\n    if (key === '*') {\n      // loop through each property\n      var prop = '';\n      var res = __res || [];\n\n      for (prop in parent) {\n        var shallowObj = undefsafe(obj[prop], parts.slice(i + 1).join('.'), value, res);\n\n        if (shallowObj && shallowObj !== res) {\n          if (value && shallowObj === value || value === undefined) {\n            if (value !== undefined) {\n              return shallowObj;\n            }\n\n            res.push(shallowObj);\n          }\n        }\n      }\n\n      if (res.length === 0) {\n        return undefined;\n      }\n\n      return res;\n    }\n\n    if (Object.getOwnPropertyNames(obj).indexOf(key) == -1) {\n      return undefined;\n    }\n\n    obj = obj[key];\n\n    if (obj === undefined || obj === null) {\n      break;\n    }\n  } // if we have a null object, make sure it's the one the user was after,\n  // if it's not (i.e. parts has a length) then give undefined back.\n\n\n  if (obj === null && i !== parts.length - 1) {\n    obj = undefined;\n  } else if (!star && value) {\n    key = path.split('.').pop();\n    parent[key] = value;\n  }\n\n  return obj;\n}\n\nif (typeof module !== 'undefined') {\n  module.exports = undefsafe;\n}","map":{"version":3,"sources":["/Users/jordanthomson/code/blog-with-Node-React/node_modules/undefsafe/lib/undefsafe.js"],"names":["undefsafe","obj","path","value","__res","split","res","level","key","i","length","c","substr","push","slice","undefined","parts","type","root","parent","star","filter","_","trim","prop","shallowObj","join","Object","getOwnPropertyNames","indexOf","pop","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nfunction undefsafe(obj, path, value, __res) {\n  // I'm not super keen on this private function, but it's because\n  // it'll also be use in the browser and I wont *one* function exposed\n  function split(path) {\n    var res = [];\n    var level = 0;\n    var key = '';\n\n    for (var i = 0; i < path.length; i++) {\n      var c = path.substr(i, 1);\n\n      if (level === 0 && (c === '.' || c === '[')) {\n        if (c === '[') {\n          level++;\n          i++;\n          c = path.substr(i, 1);\n        }\n\n        if (key) {\n          // the first value could be a string\n          res.push(key);\n        }\n        key = '';\n        continue;\n      }\n\n      if (c === ']') {\n        level--;\n        key = key.slice(0, -1);\n        continue;\n      }\n\n      key += c;\n    }\n\n    res.push(key);\n\n    return res;\n  }\n\n  // bail if there's nothing\n  if (obj === undefined || obj === null) {\n    return undefined;\n  }\n\n  var parts = split(path);\n  var key = null;\n  var type = typeof obj;\n  var root = obj;\n  var parent = obj;\n\n  var star =\n    parts.filter(function(_) {\n      return _ === '*';\n    }).length > 0;\n\n  // we're dealing with a primitive\n  if (type !== 'object' && type !== 'function') {\n    return obj;\n  } else if (path.trim() === '') {\n    return obj;\n  }\n\n  key = parts[0];\n  var i = 0;\n  for (; i < parts.length; i++) {\n    key = parts[i];\n    parent = obj;\n\n    if (key === '*') {\n      // loop through each property\n      var prop = '';\n      var res = __res || [];\n\n      for (prop in parent) {\n        var shallowObj = undefsafe(\n          obj[prop],\n          parts.slice(i + 1).join('.'),\n          value,\n          res\n        );\n        if (shallowObj && shallowObj !== res) {\n          if ((value && shallowObj === value) || value === undefined) {\n            if (value !== undefined) {\n              return shallowObj;\n            }\n\n            res.push(shallowObj);\n          }\n        }\n      }\n\n      if (res.length === 0) {\n        return undefined;\n      }\n\n      return res;\n    }\n\n    if (Object.getOwnPropertyNames(obj).indexOf(key) == -1) {\n      return undefined;\n    }\n\n    obj = obj[key];\n    if (obj === undefined || obj === null) {\n      break;\n    }\n  }\n\n  // if we have a null object, make sure it's the one the user was after,\n  // if it's not (i.e. parts has a length) then give undefined back.\n  if (obj === null && i !== parts.length - 1) {\n    obj = undefined;\n  } else if (!star && value) {\n    key = path.split('.').pop();\n    parent[key] = value;\n  }\n  return obj;\n}\n\nif (typeof module !== 'undefined') {\n  module.exports = undefsafe;\n}\n"]},"metadata":{},"sourceType":"script"}